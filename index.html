<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Dungeon Operatives</title>
	<link rel="stylesheet" href="./Content/game.css">
    <script type="text/javascript" src="http://code.createjs.com/easeljs-0.5.0.min.js"></script>	

	<script>
	
	let KEYCODE_LEFT = 37, 
		KEYCODE_RIGHT = 39,
		KEYCODE_UP = 38, 
		KEYCODE_DOWN = 40;
    let stage;
    let player;
    let background;
	let assetsPath = "./Assets/sounds";
	
	function keyPressed(event) {
		switch(event.keyCode) {
			case KEYCODE_LEFT:		
				playerImage.rotation = -90;
				playerImage.x -= 5;

				break;
			case KEYCODE_RIGHT: 
				playerImage.rotation = 90;
				playerImage.x += 5; 
				break;
			case KEYCODE_UP: 
				playerImage.rotation = 0;
				playerImage.y -= 5;
				break;
			case KEYCODE_DOWN: 
				playerImage.rotation = 180;
				playerImage.y += 5;
				break;
		}
		
		stage.update();
	}
	
	function start() {
        stage = new createjs.Stage(document.getElementById("canvas"));
        
        background = new createjs.Bitmap('./Assets/images/arena.png');
        stage.addChild(background);

        playerImage = new createjs.Bitmap("./Assets/images/player.png");
        playerImage.x = 550;
        playerImage.y = 600;
		playerImage.width = 69;
		playerImage.height = 99;

		// var shipSize = 20;
		// playerContainer = new createjs.Container();
    	// playerContainer.addChild(playerImage);
		// playerContainer.x = canvas.width / 2;
    	// playerContainer.y = canvas.height - shipSize;

		// playerImage.regX = player.getBounds().width * 0.5;
		// playerImage.regY = player.getBounds().height * 0.5;
		// playerImage.x = 10;
		// playerImage.y = 10;
		// player.regX = player.getBounds().width * 0.5;
		// player.regY = player.getBounds().height * 0.5;

        stage.addChild(playerImage);
		
		// createjs.Sound.alternateExtensions = ["mp3"];
		//createjs.Sound.on("fileload", loadSound);
		// createjs.Sound.registerSounds("soundlevel1", assetsPath);
		// after load is complete
		// createjs.Sound.play("soundlevel1");
		
        this.document.onkeydown = keyPressed;

		stage.update();
		
				
	}
	</script>
</head>
	
<body onload="start();">
	<header id="header" class="EaselJS">
	    <h1><span class="text-product"><strong>Dungeon Operatives</strong></span></h1>
	</header>
	<div class="canvasHolder">
     
		<canvas id="canvas" width="1200" height="800" >
           
        </canvas>
	</div>
	<br/> 
	<br/>
	<header id="header" class="EaselJS">
	</header>
	
</body>
</html>